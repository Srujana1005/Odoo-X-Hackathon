<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>EcoFinds Dashboard</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<style>
   *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Arial,sans-serif;}
body{
  background: linear-gradient(to right,#90caf9,#047edf 99%);
}


/* Menu Bar */
.menu-bar{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(90deg,#1e3c72,#2a5298);padding:10px 20px;box-shadow:0 4px 8px rgba(0,0,0,0.15);}
.menu-bar .logo{font-size:26px;font-weight:800;color:white;}
.menu-bar ul{display:flex;list-style:none;gap:25px;align-items:center;}
.menu-bar ul li{position:relative;}
.menu-bar ul li a{color:white;text-decoration:none;font-weight:700;display:flex;align-items:center;gap:6px;transition:color .3s;}
.menu-bar ul li a:hover,.menu-bar ul li a.active{color:#ffd700;}
.menu-bar ul li .dropdown{display:none;position:absolute;top:40px;left:0;background:#2a5298;padding:10px 0;border-radius:8px;min-width:200px;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,.25);}
.menu-bar ul li .dropdown li a{padding:10px 14px;display:block;color:#fff;font-weight:700;}
.menu-bar ul li .dropdown li a:hover{background:#1e3c72;}
.menu-bar ul li.settings.open .dropdown{display:block;}
.auth-buttons{display:flex;align-items:center;}
#language-select{padding:8px 10px;border-radius:8px;border:none;margin-right:10px;cursor:pointer;font-weight:800;background-color:#2a5298;color:white;}
.auth-buttons button{margin-left:5px;padding:8px 14px;border:none;cursor:pointer;border-radius:8px;font-weight:800;background-color:#2a5298;color:white;}
.auth-buttons button:hover{background-color:#1e3c72;}


/* Sections */
main{padding:0 10px;}
.section{display:none;padding:30px 20px;animation:fadeIn .45s ease;}
.section.active{display:block;}
.section h2{color:#1e3c72;margin-bottom:20px;border-bottom:3px solid #2a5298;display:inline-block;padding-bottom:6px;font-weight:900;letter-spacing:.3px;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}


/* Products */
.products-container{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
}
.product-card{
  background:#ffffff;
  padding:15px;
  border-radius:14px;
  text-align:center;
  box-shadow:0 6px 12px rgba(0,0,0,.15);
  transition:transform .25s, box-shadow .25s;
  color:#2a5298;
  font-weight:800;
}
.product-card:hover{box-shadow:0 14px 26px rgba(0,0,0,.15);}
.product-card.bump{transform:scale(1.02);}
.product-card img{width:100%;height:180px;object-fit:cover;border-radius:12px;border:2px solid #1e3c72;}
.product-card h3{margin:10px 0 6px 0;font-weight:900;}
.product-card p{margin:0 0 8px 0;font-weight:900;}
.product-card button{margin-top:10px;padding:10px 16px;background:#ffd700;color:#2a5298;font-weight:900;border:none;border-radius:8px;cursor:pointer;transition:transform .15s;}
.product-card button:active{transform:scale(1.1);}


/* Cart */
#cart-items{display:flex;flex-direction:column;align-items:center;gap:15px;}
.cart-card{background:#2a5298;color:#fff;font-weight:800;padding:16px;border-radius:14px;max-width:460px;width:100%;text-align:center;box-shadow:0 6px 12px rgba(0,0,0,.18);}
.cart-card h3{font-weight:900;margin-bottom:6px;}
.cart-card p{font-weight:900;margin-bottom:10px;}
.cart-card button{margin-top:6px;background:#ff4747;color:white;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:900;}
.cart-card button:hover{background:#c90f0f;}
#cart-total{text-align:center;margin-top:15px;font-size:20px;font-weight:900;}


/* Orders */
#orders-list{text-align:center;font-size:24px;font-weight:900;}


/* Sell Product */
.sell-container{display:flex;flex-direction:column;align-items:center;gap:20px;}
.img-preview{order:-1;text-align:center;}
.img-preview h3{font-weight:900;color:#1e3c72;margin-bottom:8px;}
.img-preview img{width:180px;height:180px;object-fit:cover;border-radius:12px;border:3px solid #2a5298;background:#eee;box-shadow:0 6px 12px rgba(0,0,0,.18);margin-bottom:10px;}

.sell-container form{
  background:#ffffff;
  padding:30px;
  border-radius:14px;
  box-shadow:0 8px 20px rgba(0,0,0,.22);
  display:flex;
  flex-direction:column;
  gap:15px;
  align-items:center;
  color:#2a5298;
  min-width:280px;
}
.sell-container input,.sell-container select{
  padding:12px;
  border-radius:8px;
  border:2px solid #2a5298;
  width:260px;
  font-weight:700;
}
.sell-container button{
  background:#ffd700;
  color:#2a5298;
  border:none;
  padding:12px 20px;
  border-radius:10px;
  cursor:pointer;
  font-weight:900;
}
.sell-container button:hover{filter:brightness(0.95);}


/* Auth */
.auth-container{max-width:420px;margin:40px auto;background:linear-gradient(135deg,#1e3c72,#2a5298);padding:30px;border-radius:14px;box-shadow:0 8px 22px rgba(0,0,0,.25);color:#fff;}
.auth-container h2{text-align:center;margin-bottom:18px;font-weight:900;}
.auth-container form{display:flex;flex-direction:column;gap:14px;}
.auth-container input{padding:12px;border-radius:8px;border:none;font-weight:700;}
.auth-container button{background:#ffd700;color:#2a5298;font-weight:900;border:none;padding:12px;border-radius:10px;cursor:pointer;}
.auth-container p{text-align:center;}
.auth-container a{color:#ffd700;cursor:pointer;font-weight:900;}


/* Responsive: 1 row with 4 columns on small screens */
@media (max-width: 480px){
  .products-container{
    grid-template-columns:repeat(4, 1fr);
    overflow-x:auto;
  }
  .product-card{
    min-width:220px;
  }
}
</style>
</head>
<body>

<!-- Menu Bar -->
<nav class="menu-bar">
  <div class="logo">EcoFinds</div>
  <ul>
    <li><a href="#" data-section="home" class="active"><i class="fas fa-home"></i> Home</a></li>
    <li><a href="#" data-section="cart"><i class="fas fa-shopping-cart"></i> Cart</a></li>
    <li><a href="#" data-section="orders"><i class="fas fa-box"></i> Orders</a></li>
    <li><a href="#" data-section="sell"><i class="fas fa-plus-square"></i> Sell Product</a></li>
    <li class="settings">
      <a href="#"><i class="fas fa-cog"></i> Settings <i class="fas fa-chevron-down"></i></a>
      <ul class="dropdown">
        <li><a href="#" class="keep-open"><i class="fas fa-bell"></i> Notifications</a></li>
        <li><a href="#" class="keep-open"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        <li><a href="#" class="keep-open"><i class="fas fa-trash-alt"></i> Delete Account</a></li>
        <li><a href="#" class="keep-open"><i class="fas fa-user-shield"></i> Privacy</a></li>
      </ul>
    </li>
  </ul>
  <div class="auth-buttons">
    <select id="language-select">
      <option value="en" selected>ðŸ‡¬ðŸ‡§ English</option>
      <option value="hi">ðŸ‡®ðŸ‡³ Hindi</option>
      <option value="es">ðŸ‡ªðŸ‡¸ Spanish</option>
    </select>
    <button id="login-btn"><i class="fas fa-sign-in-alt"></i> Login</button>
    <button id="signup-btn"><i class="fas fa-user-plus"></i> Sign Up</button>
  </div>
</nav>

<main>
  <!-- Home / Products -->
  <section id="home" class="section active">
    <h2>Products</h2>
    <div class="products-container" id="products-container"></div>
  </section>

  <!-- Cart -->
  <section id="cart" class="section">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <p id="cart-total"></p>
  </section>

  <!-- Orders -->
  <section id="orders" class="section">
    <h2>Your Orders</h2>
    <div id="orders-list">No orders yet.</div>
  </section>

  <!-- Sell Product -->
  <section id="sell" class="section">
    <h2>Sell Product</h2>
    <div class="sell-container">
      <form id="sell-form">
        <input type="text" id="sell-name" placeholder="Product Name" required>
        <input type="number" id="sell-price" placeholder="Price" required>
        <input type="text" id="sell-img" placeholder="Image URL (optional)">
        <select id="sell-category" required>
          <option value="">Select Category</option>
          <option value="Clothing">Clothing</option>
          <option value="Accessories">Accessories</option>
          <option value="Household Essentials">Household Essentials</option>
          <option value="Beauty & Personal Care">Beauty & Personal Care</option>
        </select>
        <button type="submit"><i class="fas fa-plus-square"></i> Add Product</button>
      </form>
      <div class="img-preview">
        <h3>Image Preview:</h3>
        <img id="preview-img" alt="Preview">
      </div>
    </div>
  </section>

  <!-- Login Section -->
  <section id="login-section" class="section">
    <div class="auth-container">
      <h2>Login</h2>
      <form id="login-form">
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="Password" required>
        <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
        <p>Don't have an account? <a id="show-signup">Sign Up</a></p>
      </form>
    </div>
  </section>

  <!-- Signup Section -->
  <section id="signup-section" class="section">
    <div class="auth-container">
      <h2>Sign Up</h2>
      <form id="signup-form">
        <input type="text" placeholder="Name" required>
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="Password" required>
        <button type="submit"><i class="fas fa-user-plus"></i> Sign Up</button>
        <p>Already have an account? <a id="show-login">Login</a></p>
      </form>
    </div>
  </section>
</main>

<script>
/* ---------- Helpers: robust images with fallback ---------- */
function picsum(seed){ return `https://picsum.photos/seed/${encodeURIComponent(seed)}/600/400`; }
function fallbackDataURI(label){
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='600' height='400'>
    <defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
      <stop offset='0' stop-color='#1e3c72'/><stop offset='1' stop-color='#2a5298'/>
    </linearGradient></defs>
    <rect width='100%' height='100%' fill='url(#g)'/>
    <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'
      fill='#ffffff' font-family='Segoe UI, Arial' font-size='36' font-weight='700'>
      ${label.replace(/</g,'&lt;')}
    </text></svg>`;
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
}

/* ---------- Section Navigation ---------- */
const sections = document.querySelectorAll('.section');
const menuLinks = document.querySelectorAll('.menu-bar a[data-section]');
menuLinks.forEach(link=>{
  link.addEventListener('click', e=>{
    e.preventDefault();
    sections.forEach(sec=>sec.classList.remove('active'));
    document.getElementById(link.dataset.section).classList.add('active');
    menuLinks.forEach(l=>l.classList.remove('active'));
    link.classList.add('active');
  });
});

/* ---------- Settings dropdown: stay open neatly ---------- */
const settings = document.querySelector('.settings');
settings.addEventListener('click', (e)=>{
  const trigger = e.target.closest('.settings > a');
  if(trigger){ e.preventDefault(); settings.classList.toggle('open'); }
});
document.addEventListener('click', (e)=>{
  if(!settings.contains(e.target)) settings.classList.remove('open');
});
// prevent default on dropdown links so it doesn't jump/close
document.querySelectorAll('.dropdown .keep-open').forEach(a=>{
  a.addEventListener('click', (e)=>{ e.preventDefault(); e.stopPropagation(); });
});

/* ---------- Login / Signup toggle ---------- */
const loginBtn = document.getElementById('login-btn');
const signupBtn = document.getElementById('signup-btn');
const loginSection = document.getElementById('login-section');
const signupSection = document.getElementById('signup-section');
function showSection(section){ sections.forEach(s=>s.classList.remove('active')); section.classList.add('active'); }
loginBtn.addEventListener('click', ()=> showSection(loginSection));
signupBtn.addEventListener('click', ()=> showSection(signupSection));
document.getElementById('show-signup').addEventListener('click', ()=> showSection(signupSection));
document.getElementById('show-login').addEventListener('click', ()=> showSection(loginSection));

/* ---------- Products with reliable images ---------- */
let products = [
  {name:"Blue Shirt", price:500, img:picsum("ecofinds-shirt"), category:"Clothing"},
  {name:"Sunglasses", price:1200, img:picsum("ecofinds-sunglasses"), category:"Accessories"},
  {name:"Table Lamp", price:800, img:picsum("ecofinds-lamp"), category:"Household Essentials"},
  {name:"Face Cream", price:300, img:picsum("ecofinds-cream"), category:"Beauty & Personal Care"},
];
let cart = [];

/* ---------- Render Products (2x2 grid) ---------- */
function renderProducts(){
  const container = document.getElementById('products-container');
  container.innerHTML = '';

  products.forEach((p,i)=>{
    const card = document.createElement('div');
    card.className = 'product-card';

    const imgEl = document.createElement('img');
    imgEl.alt = p.name;
    imgEl.src = p.img;
    imgEl.onerror = ()=>{ imgEl.src = fallbackDataURI(p.category); };

    const h3 = document.createElement('h3');
    h3.textContent = p.name;

    const price = document.createElement('p');
    price.textContent = `â‚¹${p.price}`;

    const btn = document.createElement('button');
    btn.textContent = 'Add to Cart';
    btn.addEventListener('click', ()=>{
      addToCart(i);
      card.classList.add('bump');
      setTimeout(()=>card.classList.remove('bump'), 250);
    });

    card.appendChild(imgEl);
    card.appendChild(h3);
    card.appendChild(price);
    card.appendChild(btn);
    container.appendChild(card);
  });
}

/* ---------- Cart ---------- */
function addToCart(i){ cart.push(products[i]); renderCart(); }
function renderCart(){
  const cartItems = document.getElementById('cart-items');
  const totalP = document.getElementById('cart-total');
  cartItems.innerHTML='';
  let total=0;
  if(!cart.length){ totalP.textContent=''; cartItems.innerHTML='<div class="cart-card"><p>Cart is empty</p></div>'; return; }

  cart.forEach((c,idx)=>{
    total+=c.price;
    const item = document.createElement('div');
    item.className='cart-card';

    const h = document.createElement('h3'); h.textContent=c.name;
    const p = document.createElement('p'); p.textContent=`â‚¹${c.price}`;

    const rem = document.createElement('button');
    rem.textContent='Remove';
    rem.addEventListener('click', ()=>{ cart.splice(idx,1); renderCart(); });

    item.appendChild(h); item.appendChild(p); item.appendChild(rem);
    cartItems.appendChild(item);
  });
  totalP.textContent = `Total: â‚¹${total}`;
}

/* ---------- Sell Product + Preview ---------- */
const sellImgInput = document.getElementById('sell-img');
const previewImg = document.getElementById('preview-img');
previewImg.src = fallbackDataURI('Preview'); // default preview

sellImgInput.addEventListener('input', ()=>{
  const url = sellImgInput.value.trim();
  if(!url){ previewImg.src = fallbackDataURI('Preview'); return; }
  previewImg.src = url;
  previewImg.onerror = ()=>{ previewImg.src = fallbackDataURI('Preview'); };
});

document.getElementById('sell-form').addEventListener('submit', (e)=>{
  e.preventDefault();
  const name = document.getElementById('sell-name').value.trim();
  const price = parseInt(document.getElementById('sell-price').value,10);
  const url = document.getElementById('sell-img').value.trim();
  const category = document.getElementById('sell-category').value;

  if(!name || !price || !category){ return; }

  // Use user URL if present; else a picsum with seed; always keep a fallback on render
  const img = url || picsum(`${name}-${category}`);

  products.push({name,price,img,category});
  e.target.reset();
  previewImg.src = fallbackDataURI('Preview');
  renderProducts();
  showSection(document.getElementById('home'));
});

/* ---------- Dummy Auth ---------- */
document.getElementById('login-form').addEventListener('submit', (e)=>{ e.preventDefault(); alert('Logged in!'); showSection(document.getElementById('home')); });
document.getElementById('signup-form').addEventListener('submit', (e)=>{ e.preventDefault(); alert('Signed up!'); showSection(document.getElementById('home')); });

/* ---------- Init ---------- */
renderProducts();
renderCart();
</script>
</body>
</html>